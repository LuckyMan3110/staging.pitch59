<input
    type="file"
    accept="{{ acceptImageextensions }}"
    #fileInput
    (change)="fileChangeEvent($event)"
    class="image-file-uploader"
    name="files"
/>

<div class="img-croper-dialog">
  <p-dialog
      [(visible)]="displayImageCropper"
      [modal]="true"
      appendTo="body"
      [style]="{ width: dialogWidth, minWidth: '300px', maxHeight: '90vh' }"
      [minY]="70"
      [maximizable]="false"
      [baseZIndex]="10000"
      blockScroll="false"
      styleClass="mi-mob-fullscreen-dialog"
  >
    <div style="height: auto; max-height: 70vh">
      <image-cropper
          style="height: auto; max-height: 70vh"
          (cropperReady)="cropperReady()"
          (imageCropped)="imageCropped($event)"
          (imageLoaded)="imageLoaded()"
          (loadImageFailed)="loadImageFailed()"
          (wheel)="zoomImgPreview($event)"
          [aspectRatio]="aspectRatio"
          [cropperMinHeight]="cropperMinHeight"
          [cropperMinWidth]="cropperMinWidth"
          [imageURL]="imageURL"
          [imageQuality]="imageQuality"
                [maintainAspectRatio]="maintainAspectRatio"
                [containWithinAspectRatio]="containWithinAspectRatio"
                [onlyScaleDown]="true"
                [resizeToHeight]="resizeToHeight"
                [resizeToWidth]="resizeToWidth"
                [roundCropper]="false"
                [style.display]="showCropper ? null : 'none'"
                [transform]="transform"
                backgroundColor="#FFFFFF"
                format="jpeg"
                outputType="base64"
            ></image-cropper>
        </div>
    <p-footer>
      <p-slider
          [style]="{ margin: '1rem 0', 'background-color': '#4d4d4d' }"
          (onChange)="onZoom($event)"
          [(ngModel)]="this.zoomValue"
          [min]="0.1"
          [max]="10"
          [step]="0.08"
      ></p-slider>
      <div
          class="primary-btn"
          (click)="crop()"
          [ngStyle]="{ margin: '1rem' }"
          translate
      >
        lbl_crop_and_upload
      </div>
    </p-footer>
    </p-dialog>
</div>
